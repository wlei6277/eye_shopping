<h1>Donation Confirmation Page</h1>
<h2>Are you sure you want to donate $<%= @donation.amount / 100 %> to <%= @donee.name %>?</h2>

<button id="stripePayment">Yes</button>
<script>
    document.getElementById("stripePayment").addEventListener("click", function(){
        var stripe = Stripe('<%= Rails.application.credentials.dig(:stripe, :public) %>');
    
        stripe.redirectToCheckout({
            sessionId: '<%= @stripe_session_id %>',
        }).then(function (result) {
        // If `redirectToCheckout` fails due to a browser or network
        // error, display the localized error message to your customer
        // using `result.error.message`.
        });
    
    })
</script>