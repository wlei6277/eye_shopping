
<p id="notice"><%= notice %></p>

<body>
<div class="container">
<div class="product_page">

  <div class="product_name_image">
    <p>
      <%= @product.name %>
    </p>
    <p>
      <%= image_tag @product.picture if @product.picture.attached? %>
    </p>
  </div>
  
<div class="product_info">
<p>
  <strong>User:</strong>
  <%= @product.user_id %>
</p>

<p>
  <strong>Price:</strong>
  <%= @product.price %>
</p>

<p>
  <strong>Department:</strong>
  <%= @product.department.name %>
</p>

<p>
  <strong>Color:</strong>
  <%= @product.color %>
</p>

<p>
  <strong>Url link:</strong>
  <%= @product.url_link %>
</p>

<p>
  <strong>Description:</strong>
  <%= @product.description %>
</p>

<%= render "general/favourite", product: @product %>


<div class="comments_box">
  <h1>Comments</h1>

  <table>
    <thead>
      <tr>
        <th>Product</th>
        <th>User</th>
        <th>Comment</th>
        <th colspan="3"></th>
      </tr>
    </thead>
    
  <tbody>

  <% if @comments.present? %>
    <% @comments.each do |comment| %>
  
      <tr>
        <td><%= comment.product.name %></td>
        <td><%= comment.user.name %></td>
        <td><%= comment.body %></td>
      </tr>
      <tr>
        <td><%= link_to 'Show', comment %></td>
        <% if comment.user_id == current_user.id %>
          <td><%= link_to 'Edit', edit_comment_path(comment) %></td>
          <td><%= link_to 'Destroy', comment, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>  
      </tr>
    <% end %>
    <%end%>
    </tbody>
  </table>
    <%= link_to 'New Comment', new_comment_path(:id => params[:id] ) %>

</div>
</div>
<br>

<p>
<% if @product.user_id == current_user.id %>
  <%= link_to 'Edit', edit_product_path(@product) %>
<% end %>
<%= link_to 'Go to MyBoard', my_board_path %>
</div>
</p>
</body>